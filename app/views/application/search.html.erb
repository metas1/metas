<div class="holder">
  <div class="container search-page"> 
  <%= render 'partials/totalresults' %> 
    <ul class="search-result">
      <% @documents.each do |doc| %>
        <li>
          <h3><%= link_to doc.slug, link_resolver().link_to(doc) %></h3>
          <%#
            We could have written document_path(id: doc.id, slug: doc.slug, ref: maybe_ref);
            but it's better to use the link_resolver, as it allows you to maintain in one place
            the way all the documents' URLs are supposed to be written, whatever their types.
          %>
        </li>
      <% end %>
    </ul>
    <%= paginate @documents %>
    <hr>
    <p>
      <a href="javascript:history.back()">Back</a>
      <%#
        Passing the ref parameter allows to keep it if we're previewing a future release.
        Note: if @ref is the master ref, then @maybe_ref is nil (allowing to discard the parameter here).
      %>
    </p>
  </div>
</div>